import urllib
import re
import time
from urllib.request import urlopen, Request

class UserAgent(Request):
    def __init__(self, url=None, headers={}, data=None):
        if headers is None:
            headers = {}
        headers["User-Agent"] = "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:22.0) Gecko/20100101 Firefox/22.0"
        Request.__init__(self, url, headers=headers, data=data)

def headers_reader(url):
    opener = urllib.request.urlopen(UserAgent(url))
    if opener.code == 200:
        ok = 1
    if opener.code == 404:
        exit()
    Server = opener.headers.get(HTTP_HEADER.SERVER)
    Host = url.split("/")[2]
    for item in opener.headers.items():
        for powered in item:
            sig = "x-powered-by"        
            if sig in item:
                ok = 1

class HTTP_HEADER:
    HOST = "Host"
    SERVER = "Server"